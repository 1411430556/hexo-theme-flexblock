<!-- 自定义页面 -->

<div class="main-container">
  <%# 输出文章内容 %>
  <% if (page.content) { %>
  <article class="article-content">
    <div class="article-entry"><%- page.content %></div>
  </article>
  <% } %>

  <%# 输出自定义分类内容 %>
  <% if (page.layout === "categories") { %>
    <div class="card-container card-categories">
      <div class="card-wrap">
        <% site.categories.each(function(categorie) { %>
          <%
            let isLarge = false;
            if (theme.large_legnth && theme.large_legnth.short) {
              if (categorie.name.length > theme.large_legnth.short) {
                isLarge = true
              }
            }
          %>
          <div class="card-item<%= isLarge ? ' large' : '' %>">
            <article>
              <a class="card-link" href="<%= url_for('/categories/'+categorie.name) %>"></a>
              <div class="text-info"><%= categorie.name %> (<%= categorie.length %>)</div>
            </article>
          </div>
        <% }) %>
      </div>
    </div>
  <% } %>

  <%# 输出自定义标签内容 %>
  <% if (page.layout === "tags") { %>
    <div class="card-container card-tags">
      <div class="card-wrap">
        <% site.tags.each(function(tag) { %>
          <%
            let isLarge = false;
            if (theme.large_legnth && theme.large_legnth.short) {
              if (tag.name.length > theme.large_legnth.short) {
                isLarge = true
              }
            }
          %>
          <div class="card-item<%= isLarge ? ' large' : '' %>">
            <article>
              <a class="card-link" href="<%= url_for('/tags/'+tag.name) %>"></a>
              <div class="text-info"><%= tag.name %> (<%= tag.length %>)</div>
            </article>
          </div>
        <% }) %>
      </div>
    </div>
  <% } %>

  <%# 输出自定义友链内容 %>
  <% if (page.layout === "links") { %>
    <div class="card-container card-links">
      <div class="card-wrap">
        <% site.data.links.forEach(function(link) { %>
          <%
            let isLarge = false;
            if (theme.large_legnth && theme.large_legnth.long) {
              if (link.name.length > theme.large_legnth.long || link.describe.length > theme.large_legnth.long) {
                isLarge = true
              }
            }
          %>
          <div class="card-item<%= isLarge ? ' large' : '' %><%= link.cover ? ' img' : '' %>">
            <article>
              <% if (link.cover) { %>
              <div class="card-cover" style="background-image: url(<%= link.cover %>)"></div>
              <% } %>
              <a class="card-link" href="<%= link.link %>" target="_blank"></a>
              <div class="text-info">
                <h3><%= link.name %></h3>
                <% if (link.describe) { %>
                <p><%= link.describe %></p>
                <% } %>
              </div>
            </article>
          </div>
        <% }) %>
      </div>
    </div>
  <% } %>

  <%# 输出自定义留言板内容 %>
  <% if (page.layout === "messages") { %>
    <div class="article-content">
      <%- partial('../_widget/comment', { post: page }) %>
    </div>
  <% } %>
</div>